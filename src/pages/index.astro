---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug";
import project1 from "../assets/projects/porfolio.webp";
import project2 from "../assets/projects/appcotizador.webp";
import project3 from "../assets/projects/urls.webp";
import project4 from "../assets/projects/weather.webp";
import project5 from "../assets/projects/links.webp";
import project6 from "../assets/projects/todoapp.webp";

const posts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const last_posts = posts.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="inicio">

	<div class="pb-12 mt-5">
		<div class="text-xl py-1">Hola 👋</div>
		<div class="text-5xl font-bold">Soy Jordi Ayala</div>
		<div class="text-3xl py-3 font-bold">Ingeniero en Sistemas Computacionales</div>
		<div class="py-2">
			<text class="text-lg">
				Ingeniero en Sistemas Computacionales recién egresado y actualmente en búsqueda de trabajo como desarrollador FullStack. Tengo experiencia Académica/Laboral en proyectos web y de escritorio con tecnologías como Java, Python y JavaScript, así como, HTML, CSS, Tailwind CSS y React. Además de manejo de base de datos MySQL, SQL Server y MongoDB. Me apasiona la tecnología y estar en constante aprendizaje.
				</text>
		</div>
		<div class="mt-8">
			<a class="btn" href="https://www.linkedin.com/in/asjordi/" target="_blank"> Linkedin</a>
			<a href="/cv.pdf" target="_blank" class="btn btn-outline ml-5"> CV</a>
		</div>
	</div>

	<div>
		<div class="text-3xl w-full font-bold mb-2">Últimos Proyectos {"</>"}</div>
	</div>

	<HorizontalCard
		title="Portafolio"
		img={project1}
		desc="Sitio web personal que contiene información sobre mi, mis proyectos y mi blog."
		url="https://asjordi.dev"
		badge=""
		tags={["Astro", "TailwindCSS", "Firebase"]}
		repoUrl="https://github.com/ASJordi/personal-website"
		deployUrl="https://asjordi.dev"
	/>
	<div class="divider my-0"></div>
	<HorizontalCard
		title="TODO App"
		img={project6}
		desc="Aplicación web para la creación y administración de tareas y usuarios. Permite registrar, editar y eliminar tareas, y asignarlas al usuario que inició sesión. Cuenta con un sistema de autenticación."
		url="https://github.com/ASJordi/webapp-todo"
		badge=""
		tags={["Java", "Jakarta EE", "Servlet", "JSP", "MySQL"]}
		repoUrl="https://github.com/ASJordi/webapp-todo"

	/>
	<div class="divider my-0"></div>
	<HorizontalCard
		title="App Cotizaciones"
		img={project2}
		desc="Aplicación de escritorio para la creación y administración de cotizaciones. Permite configurar datos de la empresa, clientes, productos y servicios, y generar cotizaciones en formato PDF."
		url="https://github.com/ASJordi/app-cotizaciones-java"
		badge=""
		tags={["Java", "Java Swing", "JDBC", "MySQL", "JasperReports"]}
		repoUrl="https://github.com/ASJordi/app-cotizaciones-java"

	/>
	<div class="divider my-0"></div>
	<HorizontalCard
		title="URL Shortener"
		img={project3}
		desc="Acortador de URL's que permite crear enlaces cortos a partir de una URL larga. El proyecto está desplegado en Netlify y Railway."
		url="https://link-shortly.netlify.app"
		badge=""
		tags={["HTML", "CSS", "JS", "NodeJS", "Express", "MongoDB"]}
		repoUrl="https://github.com/ASJordi/urlshortener"
		deployUrl="https://link-shortly.netlify.app/"
	/>

	<div>
		<div class="text-3xl w-full font-bold mb-5 mt-10">Últimos post {"</>"}</div>
	</div>

	{
		last_posts.map((post) => (
			<HorizontalCard
				title={post.data.title}
				img={post.data.heroImage}
				desc={post.data.description}
				url={"/blog/" + createSlug(post.data.title, post.slug)}
				target="_self"
				badge={post.data.badge}
				tags={post.data.tags}
			/>
			<div class="divider my-0"></div>
		))
	}

</BaseLayout>
